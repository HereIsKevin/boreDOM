<!DOCTYPE html>
<html>
  <head>
    <title></title>
  </head>
  <body>
    <div class="foo" style="background-color: green;">
      <h3>bar</h3>
    </div>
    <div class="foo" style="background-color: green;">
      <div class="goat"></div>
    </div>
    <script>
      function compareNodes(nodes, shallow) {
        if (shallow) nodes = nodes.map((node) => node.cloneNode(false));
        return nodes.every((node, index, nodes) => {
          let nextIndex = index + 1;
          return nodes[nextIndex] ? node.isEqualNode(nodes[nextIndex]) : true;
        });
      }

      const foo = document.getElementsByClassName("foo");

      console.log(`compare: ${compareNodes([foo[0], foo[1]], true)}`);
      console.log(`equal: ${foo[0].isEqualNode(foo[1])}`);
    </script>
  </body>
</html>
